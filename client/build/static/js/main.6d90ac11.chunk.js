(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{15:function(e,t,a){},21:function(e,t,a){var n={"./Adventure.png":50,"./Cafe.png":51,"./Market.png":52,"./Retail.png":53,"./background.png":54};function l(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=o,e.exports=l,l.id=21},22:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/logo.c9d5aec8.png"},26:function(e,t,a){e.exports=a(60)},49:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/Adventure.8159ff2c.png"},51:function(e,t,a){e.exports=a.p+"static/media/Cafe.50e84958.png"},52:function(e,t,a){e.exports=a.p+"static/media/Market.99a9c14a.png"},53:function(e,t,a){e.exports=a.p+"static/media/Retail.6b93c397.png"},54:function(e,t,a){e.exports=a.p+"static/media/background.4cab3c45.png"},57:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/BalooTamma2-SemiBold.891276b0.ttf"},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(23),i=a.n(o),c=(a(15),a(5)),s=a(6),r=a(2),m=a(8),u=a(7),d=a(63),g=a(3),p=a.n(g);a(49);var h=function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{alt:e.creatureName,src:a(21)("./"+e.imageType)})),l.a.createElement("div",{className:"content"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("strong",null,"Name:")," ",e.creatureName),l.a.createElement("li",null,l.a.createElement("strong",null,"Type:")," ",e.type))))},v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={creatures:[],howMany:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/collection/api?email="+this.props.email).then((function(t){console.log(t.data),e.setState({creatures:t.data,howMany:t.data.length})}))}},{key:"render",value:function(){var e=this.props.loggedIn;this.props.email;return console.log(this.props),l.a.createElement("div",{className:"col-4"},e?l.a.createElement("div",null,l.a.createElement("div",{className:"ui red segment"},l.a.createElement("h2",{className:"ui right floated header"},"Statistics"),l.a.createElement("div",{className:"ui clearing divider"}),l.a.createElement("img",{className:"ui small circular avatar image",src:this.props.image}),l.a.createElement("span",null,"Welcome to your collection ",this.props.user," !",l.a.createElement("br",null),"Creatures Collected: ",this.state.howMany)),l.a.createElement("div",{className:"ui orange segment"},l.a.createElement("h2",{className:"ui left floated header"},"Found Creatures"),l.a.createElement("div",{className:"ui clearing divider"}),this.state.creatures.map((function(e){return l.a.createElement(h,{type:e.animalType,imageType:e.animalType+".png",animalId:e.animalId,caughtId:e.caughtId,email:e.email,key:e.caughtId,creatureName:e.name})})))):l.a.createElement("div",{className:"ui segment"},l.a.createElement("h2",{className:"ui right floated header"},"Attention!"),l.a.createElement("div",{className:"ui clearing divider"}),"Log In Below To View This Page!",l.a.createElement("br",null)))}}]),a}(n.Component),f=a(62),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={value:"",message:""},e.onSubmit=e.onSubmit.bind(Object(r.a)(e)),e.handleChange=e.handleChange.bind(Object(r.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"onSubmit",value:function(e){var t=this,a=this;e.preventDefault(),console.log(this.state.value),p.a.get("/api/email?email="+this.state.value).then((function(e){e.data.length>0?(console.log("The above friend emails gives you:"),console.log(e.data[0]),p.a.post("/api/addfriend",{firstFriend:t.props.id,secondFriend:e.data[0].userId}).then((function(e){console.log("friend added and posted "+e),a.setState({value:"",message:""})})).catch((function(e){console.log(e)}))):(console.log("Friend Not Found"),a.setState({message:"Invalid Friend. Make sure the email is correctly spelled."}))}))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.loggedIn,t=this.props.name;return l.a.createElement("div",{className:"col-4"},e?l.a.createElement("div",null,l.a.createElement("p",null,"Welcome ",t," !"),l.a.createElement("div",{className:"ui placeholder segment"},l.a.createElement("div",{className:"ui stackable very relaxed two column grid"},l.a.createElement("div",{className:"column"},l.a.createElement("form",{className:"ui form"},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Add Friend"),l.a.createElement("div",{className:"ui left icon input"},l.a.createElement("input",{type:"text",placeholder:"Friend's Email",value:this.state.value,onChange:this.handleChange}),l.a.createElement("i",{"aria-hidden":"true",className:"user icon"})),l.a.createElement("p",null,this.state.message)),l.a.createElement("button",{className:"ui primary button",onClick:this.onSubmit},"Add"))),l.a.createElement("div",{className:"middle aligned column"},l.a.createElement(f.a,{to:"/friends",className:"ui big button"},l.a.createElement("i",{"aria-hidden":"true",className:"signup icon"}),"View Friends List"))),l.a.createElement("div",{className:"ui vertical divider"},"Or"))):l.a.createElement("div",{className:"ui segment"},l.a.createElement("h2",{className:"ui right floated header"},"Attention!"),l.a.createElement("div",{className:"ui clearing divider"}),"Log In Below To View This Page!",l.a.createElement("br",null)))}}]),a}(n.Component),b=a(24),N=a.n(b),y=(a(22),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).logout=e.logout.bind(Object(r.a)(e)),e}return Object(s.a)(a,[{key:"logout",value:function(e){e.preventDefault(),console.log("logging out"),this.props.loggingOut()}},{key:"render",value:function(){var e=this.props.loggedIn;return console.log("navbar render, props: "),console.log(this.props),l.a.createElement("div",null,l.a.createElement("header",{className:"navbar App-header",id:"nav-container"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("div",{className:"col-4 col-mr-auto"},l.a.createElement("div",{id:"top-filler"}),l.a.createElement("img",{src:N.a,className:"App-logo",alt:"logo"}),l.a.createElement("h1",{className:"App-title"},"FURRIMALS")),l.a.createElement("div",{className:"col-4"},e?l.a.createElement("section",{className:"navbar-section"},l.a.createElement(f.a,{to:"/",className:"btn btn-warning text-secondary"},l.a.createElement("span",{className:"text-secondary"},"home")),l.a.createElement(f.a,{to:"/collection",className:"btn btn-warning"},l.a.createElement("span",{className:"text-secondary"},"collection")),l.a.createElement(f.a,{to:"/leaderboard",className:"btn btn-warning"},l.a.createElement("span",{className:"text-secondary"},"leaderboard")),l.a.createElement(f.a,{to:"#",className:"btn btn-warning",onClick:this.logout},l.a.createElement("span",{className:"text-secondary"},"logout"))):l.a.createElement("section",{className:"navbar-section"},l.a.createElement(f.a,{to:"/",className:"btn btn-warning text-secondary"},l.a.createElement("span",{className:"text-secondary"},"home"))))))}}]),a}(n.Component)),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).googleSDK=function(){window.googleSDKLoaded=function(){window.gapi.load("auth2",(function(){e.auth2=window.gapi.auth2.init({client_id:"481029074891-c315na55ef7olnkqn32istv11vi62uje.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile email"}),e.prepareLoginButton()}))},function(e,t,a){var n,l=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://apis.google.com/js/platform.js?onload=googleSDKLoaded",l.parentNode.insertBefore(n,l))}(document,"script","google-jssdk")},e.onSubmit=e.onSubmit.bind(Object(r.a)(e)),e.state={value:"",message:""},e.handleChange=e.handleChange.bind(Object(r.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){this.googleSDK(),console.log("sfsfd")}},{key:"onSubmit",value:function(e){var t=this,a=this;e.preventDefault(),console.log(this.state.value),p.a.get("/api/code?code="+this.state.value).then((function(e){e.data.length>0?(console.log("The above shop code gives you:"),console.log(e.data[0].animalId),console.log(t.props.id),p.a.post("/api/caught",{userId:t.props.id,animalId:e.data[0].animalId}).then((function(e){console.log("creature caught and posted "+e),a.setState({value:"",message:""})})).catch((function(e){console.log(e)}))):(console.log("Shop Code Not Valid"),t.setState({message:"Shop Code not valid. Please ensure there are no spaces, letters or symbols."}))}))}},{key:"render",value:function(){var e=this.props.loggedIn,t=this.props.name;return console.log(this.props),l.a.createElement("div",{className:"col-4"},e?l.a.createElement("div",{className:"col-md-12 text-center ui green segment"},l.a.createElement("h2",{className:"text-center"},"Welcome to Furrimals ",t,"!"),l.a.createElement("br",null),l.a.createElement("form",{className:"ui form"},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Shop Creature Code"),l.a.createElement("input",{placeholder:"Shop Code Here i.e SHOP123",value:this.state.value,onChange:this.handleChange})),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"ui checkbox"},l.a.createElement("p",null,this.state.message))),l.a.createElement("button",{type:"submit",className:"ui button",onClick:this.onSubmit},"Enter Shop Code"))):l.a.createElement("p",null))}}]),a}(n.Component);a(57);var I=function(e){return l.a.createElement("div",{className:"pink segment ui"},l.a.createElement("img",{alt:e.creatureName,src:a(21)("./"+e.imageType),className:"ui small top aligned image"}),l.a.createElement("ul",null,l.a.createElement("li",null,"Caught by friend: ",e.email),l.a.createElement("li",null,"Animal's Name: ",e.creatureName)))},O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={friends:[],howMany:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.email),console.log(this.props.id),p.a.get("/api/seconduser?seconduser="+this.props.id).then((function(t){console.log(t.data),e.setState({friends:t.data,howMany:t.data.length})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"ui yellow inverted segment"},l.a.createElement("h2",{className:"ui left floated header"},"Friends List"),"Together, you have caught ",this.state.howMany,l.a.createElement("div",{className:"ui clearing divider"}),this.state.friends.map((function(t){return l.a.createElement(I,{email:t.email,imageType:t.animalType+".png",creatureName:t.name,key:t.caughtId,howMany:e.state.howMany})}))))}}]),a}(n.Component),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).prepareLoginButton=function(){var t=Object(r.a)(e);e.auth2.attachClickHandler(e.refs.googleLoginBtn,{},(function(a){var n=a.getBasicProfile();console.log("Token || "+a.getAuthResponse().id_token),console.log("ID: "+n.getId()),console.log("Name: "+n.getName()),console.log("Image URL: "+n.getImageUrl()),console.log("Email: "+n.getEmail()),e.setState({loggedIn:!0,user:n.getName(),id:n.getId(),token:a.getAuthResponse().id_token,image:n.getImageUrl(),email:n.getEmail()}),console.log(e.state.email),p.a.get("/api/email?email="+e.state.email).then((function(a){a.data.length>0?(console.log("User Logged In! "+a.data[0].userId),t.setState({id:a.data[0].userId})):p.a.post("/api/create",{email:e.state.email}).then((function(e){console.log("axios posted "+JSON.stringify(e)),console.log(e.data.id),t.setState({id:e.data.id})})).catch((function(e){console.log(e)}))}))}),(function(e){alert(JSON.stringify(e,void 0,2))}))},e.googleSDK=function(){window.googleSDKLoaded=function(){window.gapi.load("auth2",(function(){e.auth2=window.gapi.auth2.init({client_id:"481029074891-c315na55ef7olnkqn32istv11vi62uje.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile email"}),e.prepareLoginButton()}))},function(e,t,a){var n,l=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://apis.google.com/js/platform.js?onload=googleSDKLoaded",l.parentNode.insertBefore(n,l))}(document,"script","google-jssdk")},e.loggingOut=e.loggingOut.bind(Object(r.a)(e)),e.state={loggedIn:!1,user:"",token:"",id:null,image:"",email:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.googleSDK(),console.log("sfsfd")}},{key:"loggingOut",value:function(){this.setState({loggedIn:!1,user:"",id:null,token:"",image:"",email:""}),window.gapi.auth2.getAuthInstance().signOut().then((function(){console.log("User signed out.")})),window.location.reload()}},{key:"render",value:function(){var e=this,t=this.state.loggedIn;return l.a.createElement("div",{className:"App"},t?l.a.createElement("div",null,l.a.createElement(y,{loggedIn:this.state.loggedIn,loggingOut:this.loggingOut}),l.a.createElement(d.a,{exact:!0,path:"/",component:function(){return l.a.createElement(k,{loggedIn:e.state.loggedIn,name:e.state.user,id:e.state.id})}}),l.a.createElement(d.a,{exact:!0,path:"/collection",component:function(){return l.a.createElement(v,{loggedIn:e.state.loggedIn,email:e.state.email,user:e.state.user,id:e.state.id,image:e.state.image})}}),l.a.createElement(d.a,{exact:!0,path:"/leaderboard",component:function(){return l.a.createElement(E,{id:e.state.id,loggedIn:e.state.loggedIn,email:e.state.email})}}),l.a.createElement(d.a,{exact:!0,path:"/friends",component:function(){return l.a.createElement(O,{loggedIn:e.state.loggedIn,email:e.state.email,id:e.state.id})}})):l.a.createElement("div",{className:"col-md-12 text-center ui centered yellow inverted titlepg segment"},l.a.createElement("h1",{className:"text-center"},"Welcome to Furrimals!"),l.a.createElement("br",null),l.a.createElement("button",{className:"loginBtn loginBtn--google btn-success",ref:"googleLoginBtn"},"Login with Google")))}}]),a}(n.Component),j=a(64);a(59);i.a.render(l.a.createElement(j.a,null,l.a.createElement(w,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.6d90ac11.chunk.js.map